---
title: '【深度硬核】万物互联还是万物皆漏？带你读懂 IoT 安全世界'
date: '2025-12-25'
tags: ['IoT Security']
draft: false
summary: '从定义到威胁，从法律到伦理，万字长文带你入门物联网安全。'
---

·
你可能没有意识到，当你站在公寓楼顶俯瞰城市，或者仅仅是走在街道上时，你已经被无数个“隐形”的计算机包围了。

街道上飞驰的汽车是“装在轮子上的计算机”；天际线上密密麻麻的天线连接着智能微波炉、学习型恒温器；天空中飞过的数据中心留下的数字轨迹比飞机的尾迹云还要厚重。

欢迎来到 **物联网（IoT, Internet of Things）** 的世界。

作为一个安全研究者或仅仅是对技术感兴趣的你，这一章将带你推开 IoT 安全的大门。这不是演习，这是关于几十亿台设备、万亿美元经济以及——最重要的——关于**生命安全**的真实故事。

## 第一部分：什么是 IoT？我们为什么要在乎？

### 1. 定义那个“不知名”的东西

虽然专家们对 IoT 的定义各抒己见，但在本博客中，我们这样定义它：

> **IoT（物联网）**：指那些拥有计算能力、可以通过网络传输数据，但通常不需要人类直接进行计算机式交互的物理设备。

我们常叫它们“智能”设备（Smart Devices）。但在黑客眼中，这是一个充满机遇的游乐场。数十亿台互联设备在共享数据，它们是等待被拆解、利用和测试极限的完美目标。

### 2. 惊人的现状与风险

到 2025 年，数百亿台新设备将上线，全球 GDP 因此增加数万亿美元。这听起来很美好，对吧？

**现实是残酷的：** 安全、隐私和可靠性问题正在扼杀这种增长。

- **安全不仅仅是经济问题，它是生命问题。** 2016 年，美国高速公路有 37,416 人丧生，其中 **94% 是人为失误**。自动驾驶本可以大幅降低这个数字，但前提是——**我们得信任它不会被黑客入侵**。
- **医疗信任危机。** 有医生透露，病人拒绝植入心脏起搏器，因为他们害怕设备被黑客攻击。技术的信任危机可能导致救命技术的普及推迟数十年。

### 3. 三大恶名昭彰的攻击案例

为了让你明白严重性，我们需要复盘历史：

- **Mirai 僵尸网络（2016）：** 一群大学生利用简单的默认密码（如 `admin/1234`）控制了数十万台廉价摄像头和 DVR，发动了大规模 DDoS 攻击，搞垮了 Dyn（DNS 服务商），导致 Twitter、Netflix、亚马逊等大半个美国互联网瘫痪。
- **WannaCry 和 NotPetya：** 这些勒索软件利用了微软 SMB 协议的漏洞（EternalBlue），造成了全球数万亿美元的损失，甚至波及了关键基础设施和制造业。

### 4. 未来的三条路

面对 IoT 安全，我们有三种选择：

1.  **维持现状（Status Quo）：** 接受不安全是常态，社会默默承受损失。
2.  **亡羊补牢（Bolt-on）：** 依赖第三方售后安全方案，但这通常更贵且效果不佳。
3.  **原生安全（Built-in）：** 制造商在设计之初就植入安全。
    - _比喻：_ 以前纽约的防火梯是挂在楼外的（Bolt-on），既贵又危险；现在的防火梯是建在楼内的（Built-in），这才是正道。

---

## 第二部分：IoT 安全 vs 传统 IT 安全——根本就不是一回事

很多搞传统网络安全（IT）的人转行做 IoT 安全时都会懵圈，因为规则变了。我们可以通过 **“I Am The Cavalry”** 组织的框架来对比两者的不同：

<img
  src="/static/images/IOT/it_vs_iot_comparison.png"
  alt="IT与IoT环境对比图：服务器机房VS心脏起搏器"
  width="700"
/>

| 维度                      | 传统 IT 安全               | IoT 安全 (物联网)                                                        |
| :------------------------ | :------------------------- | :----------------------------------------------------------------------- |
| **后果 (Consequences)**   | 数据泄露、金钱损失         | **直接的生命损失 (Loss of Life)**、物理伤害                              |
| **对手 (Adversaries)**    | 窃取数据、商业间谍         | 勒索医院、破坏关键设施、造成物理混乱                                     |
| **构成 (Composition)**    | 标准服务器、大硬盘、强CPU  | 极小的尺寸、低功耗、心脏起搏器甚至没法装杀毒软件                         |
| **环境 (Context)**        | 有空调的机房、专业运维人员 | **你家客厅、你的身体里、高速公路上**。用户完全不懂技术，也不会去修补漏洞 |
| **经济学 (Economics)**    | 预算充足                   | **成本极度敏感**。几块钱的芯片，安全往往是“马后炮”                       |
| **时间跨度 (Timescales)** | 3-5 年更换一次手机/电脑    | **几十年**。电厂设备要用 20 年，汽车要开 10 年，但漏洞利用只需几秒钟     |

---

## 第三部分：实战解构——IoT 黑客是这种玩发

### 1. 不同的技术栈

IoT 黑客不再只是盯着 TCP/IP 协议。你得懂：

- **短距离无线电：** NFC, RFID, Bluetooth (BLE).
- **中距离无线电：** Zigbee.
- **长距离无线电：** LoRa, LoRaWAN, Sigfox.
- **物理层：** 你得会拆开设备，分析电路板，从芯片里提取固件。

### 2. 经典案例分析：智能门锁是如何被攻破的？

让我们来看一个典型的 IoT 系统架构。

<img
  src="/static/images/IOT/smart_lock_diagram.png"
  alt="Figure 1-1: Network diagram of a smart lock system"
  width="700"
/>
*(图注：智能门锁系统的三角架构——手机 App、云端、门锁实体)*

**架构解读：**
这是一个典型的三角形关系。左下角是手机 App，上方是云端服务器，右下角是智能门锁。

- 手机通过 HTTPS 连接云端。
- 手机通过 BLE（蓝牙）连接门锁。
- 云端偶尔也直接连门锁（或通过手机中继）。

**攻击场景：Airbnb 的钥匙撤销**

假设你是一个 Airbnb 房东，你要撤销前一个房客的数字钥匙。

1.  **正常流程：** 你的 App 告诉云端“撤销钥匙” -> 云端发送指令给门锁 -> 门锁更新权限列表。
2.  **漏洞利用：** 恶意的房客只需把他的手机设为 **“飞行模式”** 或切断门锁的网络连接。
3.  **结果：** 门锁如果依赖房客的手机作为中继来接收云端指令（很多设计为了省电是这么做的），那么在房客离线期间，门锁永远收不到“撤销”指令。恶意房客依然可以用缓存的蓝牙凭证开锁，因为门锁并不知道要是已经失效了。

这就是 IoT 的复杂性：**云端、App、设备三者之间的信任关系非常脆弱。**

### 3. 加密也很烂

IoT 设备因为算力差，往往跑不动复杂的公钥加密（Public Key Cryptography）。它们喜欢用 **对称密钥（Symmetric Keys）**。

更糟糕的是，这些密钥经常是**硬编码（Hardcoded）**的。这意味着所有同型号的设备可能共用一把“钥匙”。黑客只要买一台回家拆了，提取出固件中的密钥，就能破解所有人家的门锁。

---

## 第四部分：游戏规则——标准、框架与法律

### 1. 混乱的标准（Standards）与框架（Frameworks）

- **标准（如 ETSI, NIST）：** 具体的、死板的。很多标准很快就过时了。
- **框架（如 I Am The Cavalry 的希波克拉底誓言）：** 更宏大的目标，更常青。

**希波克拉底誓言（针对医疗设备）：**

<img
  src="/static/images/IOT/hippocratic_oath.png"
  alt="Figure 1-2: The Hippocratic Oath for Connected Medical Devices"
  width="700"
/>
*(图注：医疗设备安全的五大核心原则)*

这个誓言强调了五个关键能力：

1.  **网络安全设计 (Cyber Safety by Design)**：预测并避免故障。
2.  **第三方协作 (Third-Party Collaboration)**：邀请盟友（白帽子）帮忙。
3.  **证据捕获 (Evidence Capture)**：类似黑匣子，出事了得知道为什么。
4.  **弹性与遏制 (Resilience and Containment)**：防止故障级联扩散。
5.  **安全更新 (Cyber Safety Updates)**：必须能打补丁。

### 2. OWASP Top 10 IoT

这是 IoT 安全领域的“十大死法”，也是你检查设备的清单：

<img
  src="/static/images/IOT/owasp_top10.png"
  alt="Figure 1-3: The OWASP Top 10 Internet of Things risks"
  width="700"
/>
*(图注：OWASP 发布的 IoT 十大安全风险)*

1.  **弱密码/硬编码密码**：比如 `admin:admin`。
2.  **不安全的网络服务**：开了不该开的端口（Telnet/SSH）。
3.  **不安全的生态接口**：Web 后台或 API 有漏洞。
4.  **缺乏安全更新机制**：无法升级固件或升级过程不加密。
5.  **使用过时组件**：用了十年前的有漏洞的代码库。
6.  **隐私保护不足**：随意上传用户数据。
7.  **不安全的数据传输/存储**：明文传输密码。
8.  **缺乏设备管理**：无法监控设备状态。
9.  **不安全的默认设置**：出厂设置极其不安全。
10. **缺乏物理加固**：外壳容易拆，调试接口（JTAG/UART）裸露。

### 3. 法律雷区：你会被抓吗？（美国视角）

搞 IoT 安全研究，很容易踩到法律红线。

- **DMCA（数字千年版权法）：** 原本是为了防盗版。如果你绕过了设备的加密（TPM）来分析代码，从技术上讲你“破解了版权保护”。
  - _好消息：_ 现在有豁免权。只要你是为了“善意的安全测试”，且是合法购买的设备，且不在危险环境（如核电站）测试，通常是合法的。
- **CFAA（计算机欺诈和滥用法）：** 禁止“未经授权”访问。
  - _灰色地带：_ 即使设备是你买的，但连接的服务器是厂商的。如果你测试时导致厂商服务器宕机，你就麻烦了。
- **底线：** 法律很复杂，但现在的趋势是保护“白帽子”黑客。

### 4. 政府在干嘛？

以英国为例，发布了《消费者 IoT 安全行为准则》（Code of Practice）。如果你看到一个设备做不到以下三点（被称为“不安全金丝雀”），**千万别买**：

1.  **没有默认密码**（每台设备密码应唯一）。
2.  **有漏洞披露策略**（厂商得有人负责接收漏洞报告）。
3.  **软件通过更新**（设备得能打补丁）。

---

## 第五部分：真实故事——黑客也是患者

为了让你理解这不只是冰冷的代码，书中介绍了两位特殊的人物。

### 故事一：Jay Radcliffe —— 黑掉自己的胰岛素泵

Jay 是一名安全研究员，也是一名 I 型糖尿病患者。

- **发现：** 他建立了一个实验室测试自己的胰岛素泵，发现可以远程控制它。
- **行动：** 他没有直接公开羞辱厂商，而是花了几个月时间通过“协调漏洞披露”（Coordinated Disclosure）与厂商合作。
- **结果：** 虽然厂商没有立即修复旧设备（因为硬件限制），但 Jay 的原则是：**为了保护病人，而不是为了出名。**

### 故事二：Marie Moe —— 我不信任我的心脏

Marie 在体内植入了心脏起搏器后，发现这东西运行着专有代码，且没有任何透明度。

- **质疑：** 医生无法回答她的技术问题，甚至没意识到她体内有个电脑。
- **研究：** 她开始了“黑客马拉松”，旨在揭露医疗设备的安全性。
- **观点：** 只有通过透明化和合作，让研究人员帮助厂商，病人才能真正安全。

---

## 结语：你的旅程才刚刚开始

IoT 的世界正在爆炸式增长。这篇博客涵盖的内容只是冰山一角。但现在，你已经掌握了核心概念：

- 你知道了 IoT 与传统 IT 的本质区别（物理伤害 vs 数据丢失）。
- 你理解了攻击面的广度（从蓝牙到云端 API）。
- 你明白了法律和道德的边界。

“即使在 2025 年，我们可能还没完全搞定这些问题，但只要你掌握了这些思维方式，无论技术怎么变，你都能应对。”

**下一章预告：** 准备好你的烙铁和螺丝刀，我们将深入硬件层面，看看电路板上藏着什么秘密！

```python
# 互动小练习：
# 下次看到智能设备时，试着问自己以下三个问题：
def check_device_security(device):
    questions = [
        "1. 这个设备如果被黑了，会造成物理伤害吗？",
        "2. 它的默认密码改了吗？",
        "3. 它的数据是传到哪里的？"
    ]
    for q in questions:
        print(q)

check_device_security("Smart Toaster")
```

---
